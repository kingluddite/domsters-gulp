function addLoadEvent(e){console.log("o");var t=window.onload;"function"!=typeof window.onload?window.onload=e:window.onload=function(){t(),e()}}function insertAfter(e,t){var n=t.parentNode;n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling)}function addClass(e,t){e.className?(newClassName=e.className,newClassName+=" ",newClassName+=t,e.className=newClassName):e.className=t}function highlightPage(){if(!document.getElementsByTagName)return!1;if(!document.getElementById)return!1;if(!document.getElementById("navigation"))return!1;for(var e=document.getElementById("navigation"),t=e.getElementsByTagName("a"),n=0;n<t.length;n++){var i=t[n].getAttribute("href"),r=window.location.href;if(r.indexOf(i)!=-1){t[n].className="here";var o=t[n].lastChild.nodeValue.toLowerCase();document.body.setAttribute("id",o)}}}function showSection(e){"use strict";console.log("test");for(var t=document.getElementsByTagName("div"),n=0;n<t.length;n++)t[n].className.indexOf("section")!==-1&&(t[n].getAttribute("id")!==e?t[n].style.display="none":t[n].style.display="block")}function prepareInternalNav(){"use strict";if(!document.getElementsByTagName)return!1;if(!document.getElementById)return!1;if(!document.getElementById("internal-nav"))return!1;for(var e=document.getElementById("internal-nav"),t=e.getElementsByTagName("a"),n=0;n<t.length;n++){var i=t[n].getAttribute("href").split("#")[1];document.getElementById(i)&&(document.getElementById(i).style.display="none",t[n].destination=i,t[n].onclick=function(){return showSection(this.destination),!1})}}function moveElement(e,t,n,i){"use strict";console.log("yo");var r,o,l,a,d;return!!document.getElementById&&(!!document.getElementById(e)&&(r=document.getElementById(e),r.movement&&clearTimeout(r.movement),r.style.left||(r.style.left="0px"),r.style.top||(r.style.top="0px"),o=parseInt(r.style.left),l=parseInt(r.style.top),o===t&&l===n||(o<t&&(a=Math.ceil((t-o)/10),o+=a),o>t&&(a=Math.ceil((o-t)/10),o-=a),l<n&&(a=Math.ceil((n-l)/10),l+=a),l>n&&(a=Math.ceil((l-n)/10),l-=a),r.style.left=o+"px",r.style.top=l+"px",d="moveElement('"+e+"',"+t+","+n+","+i+")",void(r.movement=setTimeout(d,i)))))}function prepareSlideshow(){"use strict";var e,t,n,i,r;if(!document.getElementsByTagName)return!1;if(!document.getElementById)return!1;if(!document.getElementById("intro"))return!1;e=document.getElementById("intro"),t=document.createElement("div"),t.setAttribute("id","slideshow"),n=document.createElement("img"),n.setAttribute("src","img/frame.gif"),n.setAttribute("alt",""),n.setAttribute("id","frame"),t.appendChild(n),i=document.createElement("img"),i.setAttribute("src","img/slideshow.gif"),i.setAttribute("alt","a glimpse of what awaits you"),i.setAttribute("id","preview"),t.appendChild(i),insertAfter(t,e),r=document.getElementsByTagName("a");for(var o=0;o<r.length;o++)r[o].onmouseover=function(){var e=this.getAttribute("href");e.indexOf("index.html")!==-1&&moveElement("preview",0,0,5),e.indexOf("about.html")!==-1&&moveElement("preview",-150,0,5),e.indexOf("photos.html")!==-1&&moveElement("preview",-300,0,5),e.indexOf("live.html")!==-1&&moveElement("preview",-450,0,5),e.indexOf("contact.html")!==-1&&moveElement("preview",-600,0,5)}}function showPic(e){"use strict";var t,n,i,r;return!document.getElementById("placeholder")||(t=e.getAttribute("href"),n=document.getElementById("placeholder"),n.setAttribute("src",t),!!document.getElementById("description")&&(i=e.getAttribute("title")?e.getAttribute("title"):"",r=document.getElementById("description"),3===r.firstChild.nodeType&&(r.firstChild.nodeValue=i),!1))}function preparePlaceholder(){"use strict";var e,t,n,i;return!!document.createElement&&(!!document.createTextNode&&(!!document.getElementById&&(!!document.getElementById("image-gallery")&&(e=document.createElement("img"),e.setAttribute("id","placeholder"),e.setAttribute("src","img/placeholder.gif"),e.setAttribute("alt","my image gallery"),t=document.createElement("p"),t.setAttribute("id","description"),n=document.createTextNode("Choose an image"),t.appendChild(n),i=document.getElementById("image-gallery"),insertAfter(t,i),void insertAfter(e,t)))))}function prepareGallery(){"use strict";var e,t;if(!document.getElementsByTagName)return!1;if(!document.getElementById)return!1;if(!document.getElementById("image-gallery"))return!1;e=document.getElementById("image-gallery"),t=e.getElementsByTagName("a");for(var n=0;n<t.length;n++)t[n].onclick=function(){return showPic(this)}}addLoadEvent(highlightPage),addLoadEvent(prepareInternalNav),addLoadEvent(prepareSlideshow),addLoadEvent(preparePlaceholder),addLoadEvent(prepareGallery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb2JhbC5qcyIsImFib3V0LmpzIiwiaW5kZXguanMiLCJwaG90b3MuanMiXSwibmFtZXMiOlsiYWRkTG9hZEV2ZW50IiwiZnVuYyIsImNvbnNvbGUiLCJsb2ciLCJvbGRvbmxvYWQiLCJ3aW5kb3ciLCJvbmxvYWQiLCJpbnNlcnRBZnRlciIsIm5ld0VsZW1lbnQiLCJ0YXJnZXRFbGVtZW50IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImxhc3RDaGlsZCIsImFwcGVuZENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJhZGRDbGFzcyIsImVsZW1lbnQiLCJ2YWx1ZSIsImNsYXNzTmFtZSIsIm5ld0NsYXNzTmFtZSIsImhpZ2hsaWdodFBhZ2UiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJuYXYiLCJsaW5rcyIsImkiLCJsZW5ndGgiLCJsaW5rdXJsIiwiZ2V0QXR0cmlidXRlIiwiY3VycmVudHVybCIsImxvY2F0aW9uIiwiaHJlZiIsImluZGV4T2YiLCJsaW5rdGV4dCIsIm5vZGVWYWx1ZSIsInRvTG93ZXJDYXNlIiwiYm9keSIsInNldEF0dHJpYnV0ZSIsInNob3dTZWN0aW9uIiwiaWQiLCJkaXZzIiwic3R5bGUiLCJkaXNwbGF5IiwicHJlcGFyZUludGVybmFsTmF2Iiwic2VjdGlvbklkIiwic3BsaXQiLCJkZXN0aW5hdGlvbiIsIm9uY2xpY2siLCJ0aGlzIiwibW92ZUVsZW1lbnQiLCJlbGVtZW50SUQiLCJmaW5hbFgiLCJmaW5hbFkiLCJpbnRlcnZhbCIsImVsZW0iLCJ4UG9zIiwieVBvcyIsImRpc3QiLCJyZXBlYXQiLCJtb3ZlbWVudCIsImNsZWFyVGltZW91dCIsImxlZnQiLCJ0b3AiLCJwYXJzZUludCIsIk1hdGgiLCJjZWlsIiwic2V0VGltZW91dCIsInByZXBhcmVTbGlkZXNob3ciLCJpbnRybyIsInNsaWRlc2hvdyIsImZyYW1lIiwicHJldmlldyIsImNyZWF0ZUVsZW1lbnQiLCJvbm1vdXNlb3ZlciIsInNob3dQaWMiLCJ3aGljaHBpYyIsInNvdXJjZSIsInBsYWNlaG9sZGVyIiwidGV4dCIsImRlc2NyaXB0aW9uIiwiZmlyc3RDaGlsZCIsIm5vZGVUeXBlIiwicHJlcGFyZVBsYWNlaG9sZGVyIiwiZGVzY1RleHQiLCJnYWxsZXJ5IiwiY3JlYXRlVGV4dE5vZGUiLCJwcmVwYXJlR2FsbGVyeSJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsY0FBQUMsR0FDQUMsUUFBQUMsSUFBQSxJQUNBLElBQUFDLEdBQUFDLE9BQUFDLE1BQ0EsbUJBQUFELFFBQUFDLE9BQ0FELE9BQUFDLE9BQUFMLEVBRUFJLE9BQUFDLE9BQUEsV0FDQUYsSUFDQUgsS0FLQSxRQUFBTSxhQUFBQyxFQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUFFLFVBQ0FELEdBQUFFLFdBQUFILEVBQ0FDLEVBQUFHLFlBQUFMLEdBRUFFLEVBQUFJLGFBQUFOLEVBQUFDLEVBQUFNLGFBSUEsUUFBQUMsVUFBQUMsRUFBQUMsR0FDQUQsRUFBQUUsV0FHQUMsYUFBQUgsRUFBQUUsVUFDQUMsY0FBQSxJQUNBQSxjQUFBRixFQUNBRCxFQUFBRSxVQUFBQyxjQUxBSCxFQUFBRSxVQUFBRCxFQVNBLFFBQUFHLGlCQUNBLElBQUFDLFNBQUFDLHFCQUFBLE9BQUEsQ0FDQSxLQUFBRCxTQUFBRSxlQUFBLE9BQUEsQ0FDQSxLQUFBRixTQUFBRSxlQUFBLGNBQUEsT0FBQSxDQUdBLEtBQUEsR0FGQUMsR0FBQUgsU0FBQUUsZUFBQSxjQUNBRSxFQUFBRCxFQUFBRixxQkFBQSxLQUNBSSxFQUFBLEVBQUFBLEVBQUFELEVBQUFFLE9BQUFELElBQUEsQ0FDQSxHQUFBRSxHQUFBSCxFQUFBQyxHQUFBRyxhQUFBLFFBQ0FDLEVBQUExQixPQUFBMkIsU0FBQUMsSUFDQSxJQUFBRixFQUFBRyxRQUFBTCxLQUFBLEVBQUEsQ0FDQUgsRUFBQUMsR0FBQVIsVUFBQSxNQUNBLElBQUFnQixHQUFBVCxFQUFBQyxHQUFBZixVQUFBd0IsVUFBQUMsYUFDQWYs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S0FBQSxlQUNBd0MsRUFBQXhDLGFBQUEsTUFBQSx1QkFDQXdDLEVBQUF4QyxhQUFBLE1BQUEsb0JBQ0EwQyxFQUFBM0QsU0FBQW9ELGNBQUEsS0FDQU8sRUFBQTFDLGFBQUEsS0FBQSxlQUNBOEMsRUFBQS9ELFNBQUFpRSxlQUFBLG1CQUNBTixFQUFBcEUsWUFBQXdFLEdBQ0FDLEVBQUFoRSxTQUFBRSxlQUFBLGlCQUNBakIsWUFBQTBFLEVBQUFLLE9BQ0EvRSxhQUFBd0UsRUFBQUUsT0FHQSxRQUFBTyxrQkFDQSxZQUNBLElBQUFGLEdBQUE1RCxDQUNBLEtBQUFKLFNBQUFDLHFCQUNBLE9BQUEsQ0FFQSxLQUFBRCxTQUFBRSxlQUNBLE9BQUEsQ0FFQSxLQUFBRixTQUFBRSxlQUFBLGlCQUNBLE9BQUEsQ0FFQThELEdBQUFoRSxTQUFBRSxlQUFBLGlCQUNBRSxFQUFBNEQsRUFBQS9ELHFCQUFBLElBQ0EsS0FBQSxHQUFBSSxHQUFBLEVBQUFBLEVBQUFELEVBQUFFLE9BQUFELElBQ0FELEVBQUFDLEdBQUFzQixRQUFBLFdBQ0EsTUFBQTJCLFNBQUExQixPSGxCQWxELGFBQUFxQixlQ1BBckIsYUFBQTZDLG9CQ3FEQTdDLGFBQUFxRSxrQkN2QkFyRSxhQUFBb0Ysb0JBQ0FwRixhQUFBd0YiLCJmaWxlIjoiYnVuZGxlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGFkZExvYWRFdmVudCggZnVuYyApIHtcbiAgY29uc29sZS5sb2coJ28nKTtcbiAgdmFyIG9sZG9ubG9hZCA9IHdpbmRvdy5vbmxvYWQ7XG4gIGlmICggdHlwZW9mIHdpbmRvdy5vbmxvYWQgIT0gJ2Z1bmN0aW9uJyApIHtcbiAgICB3aW5kb3cub25sb2FkID0gZnVuYztcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBvbGRvbmxvYWQoKTtcbiAgICAgIGZ1bmMoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIoIG5ld0VsZW1lbnQsIHRhcmdldEVsZW1lbnQgKSB7XG4gIHZhciBwYXJlbnQgPSB0YXJnZXRFbGVtZW50LnBhcmVudE5vZGU7XG4gIGlmICggcGFyZW50Lmxhc3RDaGlsZCA9PSB0YXJnZXRFbGVtZW50ICkge1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZCggbmV3RWxlbWVudCApO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoIG5ld0VsZW1lbnQsIHRhcmdldEVsZW1lbnQubmV4dFNpYmxpbmcgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRDbGFzcyggZWxlbWVudCwgdmFsdWUgKSB7XG4gIGlmICggIWVsZW1lbnQuY2xhc3NOYW1lICkge1xuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgbmV3Q2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7XG4gICAgbmV3Q2xhc3NOYW1lICs9IFwiIFwiO1xuICAgIG5ld0NsYXNzTmFtZSArPSB2YWx1ZTtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG5ld0NsYXNzTmFtZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoaWdobGlnaHRQYWdlKCkge1xuICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSApIHJldHVybiBmYWxzZTtcbiAgaWYgKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgKSByZXR1cm4gZmFsc2U7XG4gIGlmICggIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBcIm5hdmlnYXRpb25cIiApICkgcmV0dXJuIGZhbHNlO1xuICB2YXIgbmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwibmF2aWdhdGlvblwiICk7XG4gIHZhciBsaW5rcyA9IG5hdi5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJhXCIgKTtcbiAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIGxpbmt1cmwgPSBsaW5rc1sgaSBdLmdldEF0dHJpYnV0ZSggXCJocmVmXCIgKTtcbiAgICB2YXIgY3VycmVudHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgIGlmICggY3VycmVudHVybC5pbmRleE9mKCBsaW5rdXJsICkgIT0gLTEgKSB7XG4gICAgICBsaW5rc1sgaSBdLmNsYXNzTmFtZSA9IFwiaGVyZVwiO1xuICAgICAgdmFyIGxpbmt0ZXh0ID0gbGlua3NbIGkgXS5sYXN0Q2hpbGQubm9kZVZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSggXCJpZFwiLCBsaW5rdGV4dCApO1xuICAgIH1cbiAgfVxufVxuXG5hZGRMb2FkRXZlbnQoIGhpZ2hsaWdodFBhZ2UgKTtcbiIsImZ1bmN0aW9uIHNob3dTZWN0aW9uKCBpZCApIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBjb25zb2xlLmxvZygndGVzdCcpO1xuICB2YXIgZGl2cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAnZGl2JyApO1xuICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBkaXZzLmxlbmd0aDsgaSsrICkge1xuICAgIGlmICggZGl2c1sgaSBdLmNsYXNzTmFtZS5pbmRleE9mKCAnc2VjdGlvbicgKSA9PT0gLTEgKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCBkaXZzWyBpIF0uZ2V0QXR0cmlidXRlKCAnaWQnICkgIT09IGlkICkge1xuICAgICAgZGl2c1sgaSBdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpdnNbIGkgXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcGFyZUludGVybmFsTmF2KCkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICggIWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdpbnRlcm5hbC1uYXYnICkgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ2ludGVybmFsLW5hdicgKTtcbiAgdmFyIGxpbmtzID0gbmF2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAnYScgKTtcbiAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIHNlY3Rpb25JZCA9IGxpbmtzWyBpIF0uZ2V0QXR0cmlidXRlKCAnaHJlZicgKS5zcGxpdCggJyMnIClbIDEgXTtcbiAgICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggc2VjdGlvbklkICkgKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHNlY3Rpb25JZCApLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgbGlua3NbIGkgXS5kZXN0aW5hdGlvbiA9IHNlY3Rpb25JZDtcbiAgICBsaW5rc1sgaSBdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNob3dTZWN0aW9uKCB0aGlzLmRlc3RpbmF0aW9uICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfVxufVxuXG5hZGRMb2FkRXZlbnQoIHByZXBhcmVJbnRlcm5hbE5hdiApO1xuIiwiZnVuY3Rpb24gbW92ZUVsZW1lbnQoIGVsZW1lbnRJRCwgZmluYWxYLCBmaW5hbFksIGludGVydmFsICkge1xuICAndXNlIHN0cmljdCc7XG4gIGNvbnNvbGUubG9nKCd5bycpO1xuICB2YXIgZWxlbSwgeFBvcywgeVBvcywgZGlzdCwgcmVwZWF0O1xuICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGVsZW1lbnRJRCApICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGVsZW1lbnRJRCApO1xuICBpZiAoIGVsZW0ubW92ZW1lbnQgKSB7XG4gICAgY2xlYXJUaW1lb3V0KCBlbGVtLm1vdmVtZW50ICk7XG4gIH1cbiAgaWYgKCAhZWxlbS5zdHlsZS5sZWZ0ICkge1xuICAgIGVsZW0uc3R5bGUubGVmdCA9ICcwcHgnO1xuICB9XG4gIGlmICggIWVsZW0uc3R5bGUudG9wICkge1xuICAgIGVsZW0uc3R5bGUudG9wID0gJzBweCc7XG4gIH1cbiAgeFBvcyA9IHBhcnNlSW50KCBlbGVtLnN0eWxlLmxlZnQgKTtcbiAgeVBvcyA9IHBhcnNlSW50KCBlbGVtLnN0eWxlLnRvcCApO1xuICBpZiAoIHhQb3MgPT09IGZpbmFsWCAmJiB5UG9zID09PSBmaW5hbFkgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCB4UG9zIDwgZmluYWxYICkge1xuICAgIGRpc3QgPSBNYXRoLmNlaWwoICggZmluYWxYIC0geFBvcyApIC8gMTAgKTtcbiAgICB4UG9zID0geFBvcyArIGRpc3Q7XG4gIH1cbiAgaWYgKCB4UG9zID4gZmluYWxYICkge1xuICAgIGRpc3QgPSBNYXRoLmNlaWwoICggeFBvcyAtIGZpbmFsWCApIC8gMTAgKTtcbiAgICB4UG9zID0geFBvcyAtIGRpc3Q7XG4gIH1cbiAgaWYgKCB5UG9zIDwgZmluYWxZICkge1xuICAgIGRpc3QgPSBNYXRoLmNlaWwoICggZmluYWxZIC0geVBvcyApIC8gMTAgKTtcbiAgICB5UG9zID0geVBvcyArIGRpc3Q7XG4gIH1cbiAgaWYgKCB5UG9zID4gZmluYWxZICkge1xuICAgIGRpc3QgPSBNYXRoLmNlaWwoICggeVBvcyAtIGZpbmFsWSApIC8gMTAgKTtcbiAgICB5UG9zID0geVBvcyAtIGRpc3Q7XG4gIH1cbiAgZWxlbS5zdHlsZS5sZWZ0ID0geFBvcyArICdweCc7XG4gIGVsZW0uc3R5bGUudG9wID0geVBvcyArICdweCc7XG4gIHJlcGVhdCA9IFwibW92ZUVsZW1lbnQoJ1wiICsgZWxlbWVudElEICsgXCInLFwiICsgZmluYWxYICsgXCIsXCIgKyBmaW5hbFkgKyBcIixcIiArIGludGVydmFsICsgXCIpXCI7XG4gIGVsZW0ubW92ZW1lbnQgPSBzZXRUaW1lb3V0KCByZXBlYXQsIGludGVydmFsICk7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVTbGlkZXNob3coKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGludHJvLCBzbGlkZXNob3csIGZyYW1lLCBwcmV2aWV3LCBsaW5rcztcbiAgaWYgKCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICggIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggXCJpbnRyb1wiICkgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGludHJvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdpbnRybycgKTtcbiAgc2xpZGVzaG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcbiAgc2xpZGVzaG93LnNldEF0dHJpYnV0ZSggJ2lkJywgJ3NsaWRlc2hvdycgKTtcbiAgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnaW1nJyApO1xuICBmcmFtZS5zZXRBdHRyaWJ1dGUoICdzcmMnLCAnaW1nL2ZyYW1lLmdpZicgKTtcbiAgZnJhbWUuc2V0QXR0cmlidXRlKCAnYWx0JywgJycgKTtcbiAgZnJhbWUuc2V0QXR0cmlidXRlKCAnaWQnLCAnZnJhbWUnICk7XG4gIHNsaWRlc2hvdy5hcHBlbmRDaGlsZCggZnJhbWUgKTtcbiAgcHJldmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdpbWcnICk7XG4gIHByZXZpZXcuc2V0QXR0cmlidXRlKCAnc3JjJywgJ2ltZy9zbGlkZXNob3cuZ2lmJyApO1xuICBwcmV2aWV3LnNldEF0dHJpYnV0ZSggJ2FsdCcsICdhIGdsaW1wc2Ugb2Ygd2hhdCBhd2FpdHMgeW91JyApO1xuICBwcmV2aWV3LnNldEF0dHJpYnV0ZSggJ2lkJywgJ3ByZXZpZXcnICk7XG4gIHNsaWRlc2hvdy5hcHBlbmRDaGlsZCggcHJldmlldyApO1xuICBpbnNlcnRBZnRlciggc2xpZGVzaG93LCBpbnRybyApO1xuICBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAnYScgKTtcbiAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKysgKSB7XG4gICAgbGlua3NbIGkgXS5vbm1vdXNlb3ZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5nZXRBdHRyaWJ1dGUoICdocmVmJyApO1xuICAgICAgaWYgKCBkZXN0aW5hdGlvbi5pbmRleE9mKCAnaW5kZXguaHRtbCcgKSAhPT0gLTEgKSB7XG4gICAgICAgIG1vdmVFbGVtZW50KCAncHJldmlldycsIDAsIDAsIDUgKTtcbiAgICAgIH1cbiAgICAgIGlmICggZGVzdGluYXRpb24uaW5kZXhPZiggJ2Fib3V0Lmh0bWwnICkgIT09IC0xICkge1xuICAgICAgICBtb3ZlRWxlbWVudCggJ3ByZXZpZXcnLCAtMTUwLCAwLCA1ICk7XG4gICAgICB9XG4gICAgICBpZiAoIGRlc3RpbmF0aW9uLmluZGV4T2YoICdwaG90b3MuaHRtbCcgKSAhPT0gLTEgKSB7XG4gICAgICAgIG1vdmVFbGVtZW50KCAncHJldmlldycsIC0zMDAsIDAsIDUgKTtcbiAgICAgIH1cbiAgICAgIGlmICggZGVzdGluYXRpb24uaW5kZXhPZiggJ2xpdmUuaHRtbCcgKSAhPT0gLTEgKSB7XG4gICAgICAgIG1vdmVFbGVtZW50KCAncHJldmlldycsIC00NTAsIDAsIDUgKTtcbiAgICAgIH1cbiAgICAgIGlmICggZGVzdGluYXRpb24uaW5kZXhPZiggJ2NvbnRhY3QuaHRtbCcgKSAhPT0gLTEgKSB7XG4gICAgICAgIG1vdmVFbGVtZW50KCAncHJldmlldycsIC02MDAsIDAsIDUgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbmFkZExvYWRFdmVudCggcHJlcGFyZVNsaWRlc2hvdyApO1xuIiwiZnVuY3Rpb24gc2hvd1BpYyggd2hpY2hwaWMgKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIHNvdXJjZSwgcGxhY2Vob2xkZXIsIHRleHQsIGRlc2NyaXB0aW9uO1xuICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3BsYWNlaG9sZGVyJyApICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHNvdXJjZSA9IHdoaWNocGljLmdldEF0dHJpYnV0ZSggJ2hyZWYnICk7XG4gIHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdwbGFjZWhvbGRlcicgKTtcbiAgcGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKCAnc3JjJywgc291cmNlICk7XG4gIGlmICggIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnZGVzY3JpcHRpb24nICkgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICggd2hpY2hwaWMuZ2V0QXR0cmlidXRlKCAndGl0bGUnICkgKSB7XG4gICAgdGV4dCA9IHdoaWNocGljLmdldEF0dHJpYnV0ZSggJ3RpdGxlJyApO1xuICB9IGVsc2Uge1xuICAgIHRleHQgPSAnJztcbiAgfVxuICBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnZGVzY3JpcHRpb24nICk7XG4gIGlmICggZGVzY3JpcHRpb24uZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gMyApIHtcbiAgICBkZXNjcmlwdGlvbi5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlUGxhY2Vob2xkZXIoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIHBsYWNlaG9sZGVyLCBkZXNjcmlwdGlvbiwgZGVzY1RleHQsIGdhbGxlcnk7XG4gIGlmICggIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICggIWRvY3VtZW50LmNyZWF0ZVRleHROb2RlICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdpbWFnZS1nYWxsZXJ5JyApICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdpbWcnICk7XG4gIHBsYWNlaG9sZGVyLnNldEF0dHJpYnV0ZSggJ2lkJywgJ3BsYWNlaG9sZGVyJyApO1xuICBwbGFjZWhvbGRlci5zZXRBdHRyaWJ1dGUoICdzcmMnLCAnaW1nL3BsYWNlaG9sZGVyLmdpZicgKTtcbiAgcGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKCAnYWx0JywgJ215IGltYWdlIGdhbGxlcnknICk7XG4gIGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3AnICk7XG4gIGRlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZSggJ2lkJywgJ2Rlc2NyaXB0aW9uJyApO1xuICBkZXNjVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCAnQ2hvb3NlIGFuIGltYWdlJyApO1xuICBkZXNjcmlwdGlvbi5hcHBlbmRDaGlsZCggZGVzY1RleHQgKTtcbiAgZ2FsbGVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnaW1hZ2UtZ2FsbGVyeScgKTtcbiAgaW5zZXJ0QWZ0ZXIoIGRlc2NyaXB0aW9uLCBnYWxsZXJ5ICk7XG4gIGluc2VydEFmdGVyKCBwbGFjZWhvbGRlciwgZGVzY3JpcHRpb24gKTtcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUdhbGxlcnkoKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIGdhbGxlcnksIGxpbmtzO1xuICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICggIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnaW1hZ2UtZ2FsbGVyeScgKSApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZ2FsbGVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnaW1hZ2UtZ2FsbGVyeScgKTtcbiAgbGlua3MgPSBnYWxsZXJ5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAnYScgKTtcbiAgZm9yICggdmFyIGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKysgKSB7XG4gICAgbGlua3NbIGkgXS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2hvd1BpYyggdGhpcyApO1xuICAgIH07XG4gIH1cbn1cblxuYWRkTG9hZEV2ZW50KCBwcmVwYXJlUGxhY2Vob2xkZXIgKTtcbmFkZExvYWRFdmVudCggcHJlcGFyZUdhbGxlcnkgKTtcbiJdfQ==
